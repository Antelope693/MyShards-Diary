# ============================================
# MyShards 日记系统部署配置文件
# ============================================
# 使用方法：
# 1. 复制此文件为 .env: cp env.example .env
# 2. 填写下面的配置信息
# 3. 运行部署脚本: ./deploy.sh 或 deploy.bat

# ============================================
# 基础配置（必须填写）
# ============================================

# 维护者账号配置（必须填写）
# 维护者是站点的超级管理员，可在 /admin/root 管理所有用户
MAINTAINER_USERNAME=羚羊
MAINTAINER_EMAIL=antelope@example.com
# 初始维护者密码（请务必修改为强密码！）
MAINTAINER_PASSWORD=ChangeMe123!

# JWT 密钥（必须填写，建议使用随机字符串，长度不少于 32 位）
JWT_SECRET=please_change_me_to_a_random_string

# 服务器域名或IP地址（必须填写）
# 如果使用域名：填写你的域名，如 diary.example.com
# 如果使用IP：填写服务器IP，如 192.168.1.100
# 本地测试：填写 localhost
SERVER_DOMAIN=your-domain.com

# ============================================
# 端口配置（可选，默认值通常可用）
# ============================================

# 前端访问端口（默认：80）
# 如果 80 端口被占用，可以改为其他端口，如 8080
# 注意：如果改为非 80 端口，访问时需要加上端口号
# 例如：http://your-domain.com:8080
FRONTEND_PORT=80

# 后端API端口（默认：3001，通常不需要修改）
BACKEND_PORT=3001

# ============================================
# 环境配置（可选）
# ============================================

# 数据库配置（postgres/sqlite）
DB_TYPE=postgres
DB_HOST=db
DB_PORT=5432
DB_USER=diary_user
DB_PASSWORD=diary_pass
DB_NAME=diary_db

# Node.js 环境（production/development）
# 生产环境请保持为 production
NODE_ENV=production

# 允许访问后端 API 的前端域名（多个用逗号分隔）
# 例如：http://localhost:4173,https://diary.example.com
CORS_ORIGINS=http://localhost:4173,https://your-domain.com

# 时区设置（默认：Asia/Shanghai）
# 可以根据需要修改，如 America/New_York
TZ=Asia/Shanghai

# ============================================
# 高级配置（可选，通常不需要修改）
# ============================================

# SSL/HTTPS 配置（如果需要启用HTTPS，取消注释并填写）
# ENABLE_HTTPS=false
# SSL_CERT_PATH=/path/to/your/cert.pem
# SSL_KEY_PATH=/path/to/your/key.pem

# 数据库配置（默认使用SQLite，通常不需要修改）
# DB_TYPE=sqlite
# 如果使用MySQL或PostgreSQL，取消注释并填写以下配置
# DB_HOST=localhost
# DB_PORT=3306
# DB_NAME=diary
# DB_USER=diary_user
# DB_PASSWORD=your_db_password

# 全局请求频率限制（默认 15 分钟 / 1000 次）
# 可按需调整以抵御恶意请求
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_GENERAL_MAX=1000

# 登录/注册接口的更严格限制（默认 15 分钟 / 20 次）
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX=20

